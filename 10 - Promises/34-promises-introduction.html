<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promises!</title>
</head>
<body>
<script>

	// SUMMARY: PROMISE is something that will happen but not immediately. Javascript is asyncrynous

  // const posts = fetch('https://wesbos.com/wp-json/wp/v2/posts');
  // console.log(posts); // We don't actually get the data back from this - still need to do more as it returns a promise
  // console.log('done'); // Might run before posts returns

  const postsPromise = fetch('https://wesbos.com/wp-json/wp/v2/posts');

  postsPromise
    // listens to the promise and when it gets something back it run 'then'
    // .then(data => {
    //   console.log(data); // returns a response: Response {type: "cors", url: "https://wesbos.com/wp-json/wp/v2/posts", redirected: false, status: 200, ok: true, …}
    //   console.log(data.json()); // returns promise again 'Promise {<pending>}' 
    // })
    .then(data => data.json())
    .then(data => { console.log(data) })
    // part of a promise, you can also catch errors
    .catch((err) => {
    console.error(err);
  })

</script>
</body>
</html>
